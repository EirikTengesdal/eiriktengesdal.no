/*-- scss:defaults --*/

// Pulse Dark Theme
// Based on actual Bootswatch Pulse dark theme CSS custom properties

// Core Bootstrap color variables (matching Bootswatch Pulse)
$blue: #007bff !default;
$indigo: #6610f2 !default;
$purple: #593196 !default;
$pink: #e83e8c !default;
$red: #fc3939 !default;
$orange: #fd7e14 !default;
$yellow: #efa31d !default;
$green: #13b955 !default;
$teal: #20c997 !default;
$cyan: #009cdc !default;

// Gray scale
$gray-100: #fafafa !default;
$gray-200: #f9f8fc !default;
$gray-300: #ededed !default;
$gray-400: #cbc8d0 !default;
$gray-500: #adb5bd !default;
$gray-600: #868e96 !default;
$gray-700: #444 !default;
$gray-800: #343a40 !default;
$gray-900: #17141f !default;

// Theme colors
$primary: $purple !default;
$secondary: #a991d4 !default;
$success: $green !default;
$info: $cyan !default;
$warning: $yellow !default;
$danger: $red !default;
$light: $gray-200 !default;
$dark: $gray-900 !default;

/*-- scss:rules --*/

// Dark theme styles - these will be applied when the dark theme is active
// Quarto switches between stylesheets rather than using data-bs-theme

// Core dark theme CSS custom properties (from Bootswatch Pulse dark theme)
:root {
  color-scheme: dark;
  
  // Core colors
  --bs-body-color: #ededed;
  --bs-body-color-rgb: 237, 237, 237;
  --bs-body-bg: #17141f;
  --bs-body-bg-rgb: 23, 20, 31;
  --bs-emphasis-color: #fff;
  --bs-emphasis-color-rgb: 255, 255, 255;
  --bs-secondary-color: rgba(237, 237, 237, 0.75);
  --bs-secondary-color-rgb: 237, 237, 237;
  --bs-secondary-bg: #343a40;
  --bs-secondary-bg-rgb: 52, 58, 64;
  --bs-tertiary-color: rgba(237, 237, 237, 0.5);
  --bs-tertiary-color-rgb: 237, 237, 237;
  --bs-tertiary-bg: #262730;
  --bs-tertiary-bg-rgb: 38, 39, 48;
  
  // Text emphasis colors
  --bs-primary-text-emphasis: #9b83c0;
  --bs-secondary-text-emphasis: #cbbde5;
  --bs-success-text-emphasis: #71d599;
  --bs-info-text-emphasis: #66c4ea;
  --bs-warning-text-emphasis: #f5c877;
  --bs-danger-text-emphasis: #fd8888;
  --bs-light-text-emphasis: #fafafa;
  --bs-dark-text-emphasis: #ededed;
  
  // Background subtle colors
  --bs-primary-bg-subtle: #120a1e;
  --bs-secondary-bg-subtle: #221d2a;
  --bs-success-bg-subtle: #042511;
  --bs-info-bg-subtle: #001f2c;
  --bs-warning-bg-subtle: #302106;
  --bs-danger-bg-subtle: #320b0b;
  --bs-light-bg-subtle: #343a40;
  --bs-dark-bg-subtle: #1a1d20;
  
  // Border subtle colors
  --bs-primary-border-subtle: #351d5a;
  --bs-secondary-border-subtle: #65577f;
  --bs-success-border-subtle: #0b6f33;
  --bs-info-border-subtle: #005e84;
  --bs-warning-border-subtle: #8f6211;
  --bs-danger-border-subtle: #972222;
  --bs-light-border-subtle: #444;
  --bs-dark-border-subtle: #343a40;
  
  // Other important colors
  --bs-heading-color: inherit;
  --bs-link-color: #9b83c0;
  --bs-link-hover-color: #af9ccd;
  --bs-link-color-rgb: 155, 131, 192;
  --bs-link-hover-color-rgb: 175, 156, 205;
  --bs-code-color: #f18bba;
  --bs-highlight-color: #ededed;
  --bs-highlight-bg: #60410c;
  --bs-border-color: #444;
  --bs-border-color-translucent: rgba(255, 255, 255, 0.15);
  
  // Form validation colors
  --bs-form-valid-color: #71d599;
  --bs-form-valid-border-color: #71d599;
  --bs-form-invalid-color: #fd8888;
  --bs-form-invalid-border-color: #fd8888;
  
  // Carousel and close button filters
  --bs-carousel-indicator-active-bg: #000;
  --bs-carousel-caption-color: #000;
  --bs-carousel-control-icon-filter: invert(1) grayscale(100);
  --bs-btn-close-filter: invert(1) grayscale(100%) brightness(200%);
}

// Apply dark theme to body
body {
  background-color: var(--bs-body-bg);
  color: var(--bs-body-color);
}

// Navigation styling
.navbar {
  background-color: rgba(23, 20, 31, 0.95) !important;
  border-bottom: 1px solid var(--bs-border-color);
}

.navbar-brand {
  color: var(--bs-emphasis-color) !important;
}

.navbar-nav .nav-link {
  color: var(--bs-secondary-color) !important;
  
  &:hover, &:focus {
    color: var(--bs-emphasis-color) !important;
  }
  
  &.active {
    color: var(--bs-emphasis-color) !important;
    font-weight: 600;
  }
}

// Content areas
.card {
  background-color: var(--bs-secondary-bg);
  border-color: var(--bs-border-color);
}

// Quarto about page styling
.quarto-about-trestles .about-entity .about-link {
  background-color: var(--bs-primary);
  border-color: var(--bs-primary);
  color: #fff;
  
  &:hover {
    background-color: var(--bs-primary-text-emphasis);
    border-color: var(--bs-primary-text-emphasis);
  }
}

// Footer
.page-footer {
  background-color: var(--bs-body-bg);
  border-top: 1px solid var(--bs-border-color);
  color: var(--bs-body-color);
}

// Code blocks
pre, code {
  background-color: var(--bs-secondary-bg);
  color: var(--bs-code-color);
}

// Tables
.table {
  --bs-table-bg: transparent;
  --bs-table-color: var(--bs-body-color);
  --bs-table-border-color: var(--bs-border-color);
}

// Repository cards styling
.repositories {
  .repo {
    margin: 0.5rem;
    flex: 1 1 300px;
    max-width: 400px;
  }
  
  .repo-img-light {
    display: block;
  }
  
  .repo-img-dark {
    display: none;
  }
}

// Dark mode repository image switching  
@media (prefers-color-scheme: dark) {
  .repositories {
    .repo-img-light {
      display: none;
    }
    
    .repo-img-dark {
      display: block;
    }
  }
}
